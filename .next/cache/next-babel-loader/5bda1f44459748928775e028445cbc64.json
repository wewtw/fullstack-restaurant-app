{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\X\\\\Desktop\\\\MIT-Bootcamp-WebDev\\\\Week29\\\\setting-up-stripe_starter\\\\components\\\\cardSection.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState } from \"react\";\nimport { CardElement } from \"@stripe/react-stripe-js\";\n\nfunction CardSection(props) {\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState(false);\n  const {\n    0: feedbackMessage,\n    1: setFeedbackMessage\n  } = useState(\"\");\n\n  const handleSubmit = async event => {\n    // Prevent default form submission behavior\n    event.preventDefault(); // Disable submit button to prevent multiple submissions\n\n    if (typeof props.setIsLoading === 'function') {\n      props.setIsLoading(true);\n    } // Send the payment method to Stripe\n\n\n    const cardElement = props.elements && props.elements.getElement(CardElement);\n\n    if (!cardElement) {\n      setFeedbackMessage(\"Please enter a valid card.\");\n\n      if (typeof props.setIsLoading === 'function') {\n        props.setIsLoading(false);\n      }\n\n      return;\n    }\n\n    const {\n      error,\n      paymentMethod\n    } = await props.stripe.createPaymentMethod({\n      type: \"card\",\n      card: cardElement\n    }); // Re-enable submit button\n\n    if (typeof props.setIsLoading === 'function') {\n      props.setIsLoading(false);\n    }\n\n    if (error) {\n      setFeedbackMessage(error.message);\n      console.error(error);\n    } else {\n      setFeedbackMessage(\"Payment succeeded!\");\n      console.log(paymentMethod);\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: \"jsx-572734112\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-572734112\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"card-element\",\n    className: \"jsx-572734112\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, \"Credit or debit card\"), __jsx(\"div\", {\n    className: \"jsx-572734112\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, __jsx(\"fieldset\", {\n    style: {\n      border: \"none\"\n    },\n    className: \"jsx-572734112\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-572734112\" + \" \" + \"form-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    id: \"card-element\",\n    style: {\n      width: \"100%\"\n    },\n    className: \"jsx-572734112\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 15\n    }\n  }, __jsx(CardElement, {\n    options: {\n      style: {\n        width: \"100%\",\n        base: {\n          fontSize: \"18px\"\n        }\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  })), __jsx(\"br\", {\n    className: \"jsx-572734112\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 15\n    }\n  }), __jsx(\"div\", {\n    className: \"jsx-572734112\" + \" \" + \"order-button-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 15\n    }\n  }, __jsx(\"button\", {\n    onClick: handleSubmit,\n    className: \"jsx-572734112\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, \"Confirm order\")), props.stripeError ? __jsx(\"div\", {\n    className: \"jsx-572734112\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, props.stripeError.toString()) : null, __jsx(\"div\", {\n    id: \"card-errors\",\n    role: \"alert\",\n    className: \"jsx-572734112\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 15\n    }\n  }), feedbackMessage && __jsx(\"div\", {\n    className: \"jsx-572734112\" + \" \" + \"feedback-message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, feedbackMessage))))), __jsx(_JSXStyle, {\n    id: \"572734112\",\n    __self: this\n  }, \".order-button-wrapper.jsx-572734112{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}.feedback-message.jsx-572734112{margin-top:1em;font-weight:bold;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcWFxcRGVza3RvcFxcTUlULUJvb3RjYW1wLVdlYkRldlxcV2VlazI5XFxzZXR0aW5nLXVwLXN0cmlwZV9zdGFydGVyXFxjb21wb25lbnRzXFxjYXJkU2VjdGlvbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUEyRVMsQUFHMEIsQUFPRSxlQUNFLGlCQUNuQiwwQ0FSYSxXQUNVLHFHQUNJLGlHQUMzQiIsImZpbGUiOiJDOlxcVXNlcnNcXFhcXERlc2t0b3BcXE1JVC1Cb290Y2FtcC1XZWJEZXZcXFdlZWsyOVxcc2V0dGluZy11cC1zdHJpcGVfc3RhcnRlclxcY29tcG9uZW50c1xcY2FyZFNlY3Rpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IENhcmRFbGVtZW50IH0gZnJvbSBcIkBzdHJpcGUvcmVhY3Qtc3RyaXBlLWpzXCI7XG5cbmZ1bmN0aW9uIENhcmRTZWN0aW9uKHByb3BzKSB7XG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtmZWVkYmFja01lc3NhZ2UsIHNldEZlZWRiYWNrTWVzc2FnZV0gPSB1c2VTdGF0ZShcIlwiKTtcblxuICBjb25zdCBoYW5kbGVTdWJtaXQgPSBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAvLyBQcmV2ZW50IGRlZmF1bHQgZm9ybSBzdWJtaXNzaW9uIGJlaGF2aW9yXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIC8vIERpc2FibGUgc3VibWl0IGJ1dHRvbiB0byBwcmV2ZW50IG11bHRpcGxlIHN1Ym1pc3Npb25zXG4gICAgaWYgKHR5cGVvZiBwcm9wcy5zZXRJc0xvYWRpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHByb3BzLnNldElzTG9hZGluZyh0cnVlKTtcbiAgICB9XG5cbiAgICAvLyBTZW5kIHRoZSBwYXltZW50IG1ldGhvZCB0byBTdHJpcGVcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IHByb3BzLmVsZW1lbnRzICYmIHByb3BzLmVsZW1lbnRzLmdldEVsZW1lbnQoQ2FyZEVsZW1lbnQpO1xuICAgIGlmICghY2FyZEVsZW1lbnQpIHtcbiAgICAgIHNldEZlZWRiYWNrTWVzc2FnZShcIlBsZWFzZSBlbnRlciBhIHZhbGlkIGNhcmQuXCIpO1xuICAgICAgaWYgKHR5cGVvZiBwcm9wcy5zZXRJc0xvYWRpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcHJvcHMuc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgeyBlcnJvciwgcGF5bWVudE1ldGhvZCB9ID0gYXdhaXQgcHJvcHMuc3RyaXBlLmNyZWF0ZVBheW1lbnRNZXRob2Qoe1xuICAgICAgdHlwZTogXCJjYXJkXCIsXG4gICAgICBjYXJkOiBjYXJkRWxlbWVudCxcbiAgICB9KTtcblxuICAgIC8vIFJlLWVuYWJsZSBzdWJtaXQgYnV0dG9uXG4gICAgaWYgKHR5cGVvZiBwcm9wcy5zZXRJc0xvYWRpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHByb3BzLnNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgfVxuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBzZXRGZWVkYmFja01lc3NhZ2UoZXJyb3IubWVzc2FnZSk7XG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0RmVlZGJhY2tNZXNzYWdlKFwiUGF5bWVudCBzdWNjZWVkZWQhXCIpO1xuICAgICAgY29uc29sZS5sb2cocGF5bWVudE1ldGhvZCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIDxkaXY+XG4gICAgICAgIDxsYWJlbCBodG1sRm9yPVwiY2FyZC1lbGVtZW50XCI+Q3JlZGl0IG9yIGRlYml0IGNhcmQ8L2xhYmVsPlxuXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGZpZWxkc2V0IHN0eWxlPXt7IGJvcmRlcjogXCJub25lXCIgfX0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tcm93XCI+XG4gICAgICAgICAgICAgIDxkaXYgaWQ9XCJjYXJkLWVsZW1lbnRcIiBzdHlsZT17eyB3aWR0aDogXCIxMDAlXCIgfX0+XG4gICAgICAgICAgICAgICAgPENhcmRFbGVtZW50XG4gICAgICAgICAgICAgICAgICBvcHRpb25zPXt7XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7IHdpZHRoOiBcIjEwMCVcIiwgYmFzZTogeyBmb250U2l6ZTogXCIxOHB4XCIgfSB9LFxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGJyIC8+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3JkZXItYnV0dG9uLXdyYXBwZXJcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZVN1Ym1pdH0+Q29uZmlybSBvcmRlcjwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAge3Byb3BzLnN0cmlwZUVycm9yID8gKFxuICAgICAgICAgICAgICAgIDxkaXY+e3Byb3BzLnN0cmlwZUVycm9yLnRvU3RyaW5nKCl9PC9kaXY+XG4gICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICA8ZGl2IGlkPVwiY2FyZC1lcnJvcnNcIiByb2xlPVwiYWxlcnRcIiAvPlxuICAgICAgICAgICAgICB7ZmVlZGJhY2tNZXNzYWdlICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZlZWRiYWNrLW1lc3NhZ2VcIj57ZmVlZGJhY2tNZXNzYWdlfTwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9maWVsZHNldD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgIHtgXG4gICAgICAgICAgLm9yZGVyLWJ1dHRvbi13cmFwcGVyIHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDtcbiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLmZlZWRiYWNrLW1lc3NhZ2Uge1xuICAgICAgICAgICAgbWFyZ2luLXRvcDogMWVtO1xuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgICAgfVxuICAgICAgICBgfVxuICAgICAgPC9zdHlsZT5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FyZFNlY3Rpb247XG4iXX0= */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\X\\\\\\\\Desktop\\\\\\\\MIT-Bootcamp-WebDev\\\\\\\\Week29\\\\\\\\setting-up-stripe_starter\\\\\\\\components\\\\\\\\cardSection.js */\"));\n}\n\nexport default CardSection;","map":{"version":3,"sources":["C:/Users/X/Desktop/MIT-Bootcamp-WebDev/Week29/setting-up-stripe_starter/components/cardSection.js"],"names":["React","useState","CardElement","CardSection","props","isLoading","setIsLoading","feedbackMessage","setFeedbackMessage","handleSubmit","event","preventDefault","cardElement","elements","getElement","error","paymentMethod","stripe","createPaymentMethod","type","card","message","console","log","border","width","style","base","fontSize","stripeError","toString"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { CardElement } from \"@stripe/react-stripe-js\";\n\nfunction CardSection(props) {\n  const [isLoading, setIsLoading] = useState(false);\n  const [feedbackMessage, setFeedbackMessage] = useState(\"\");\n\n  const handleSubmit = async (event) => {\n    // Prevent default form submission behavior\n    event.preventDefault();\n\n    // Disable submit button to prevent multiple submissions\n    if (typeof props.setIsLoading === 'function') {\n      props.setIsLoading(true);\n    }\n\n    // Send the payment method to Stripe\n    const cardElement = props.elements && props.elements.getElement(CardElement);\n    if (!cardElement) {\n      setFeedbackMessage(\"Please enter a valid card.\");\n      if (typeof props.setIsLoading === 'function') {\n        props.setIsLoading(false);\n      }\n      return;\n    }\n    const { error, paymentMethod } = await props.stripe.createPaymentMethod({\n      type: \"card\",\n      card: cardElement,\n    });\n\n    // Re-enable submit button\n    if (typeof props.setIsLoading === 'function') {\n      props.setIsLoading(false);\n    }\n\n    if (error) {\n      setFeedbackMessage(error.message);\n      console.error(error);\n    } else {\n      setFeedbackMessage(\"Payment succeeded!\");\n      console.log(paymentMethod);\n    }\n  };\n\n  return (\n    <div>\n      <div>\n        <label htmlFor=\"card-element\">Credit or debit card</label>\n\n        <div>\n          <fieldset style={{ border: \"none\" }}>\n            <div className=\"form-row\">\n              <div id=\"card-element\" style={{ width: \"100%\" }}>\n                <CardElement\n                  options={{\n                    style: { width: \"100%\", base: { fontSize: \"18px\" } },\n                  }}\n                />\n              </div>\n              <br />\n              <div className=\"order-button-wrapper\">\n                <button onClick={handleSubmit}>Confirm order</button>\n              </div>\n              {props.stripeError ? (\n                <div>{props.stripeError.toString()}</div>\n              ) : null}\n              <div id=\"card-errors\" role=\"alert\" />\n              {feedbackMessage && (\n                <div className=\"feedback-message\">{feedbackMessage}</div>\n              )}\n            </div>\n          </fieldset>\n        </div>\n      </div>\n      <style jsx>\n        {`\n          .order-button-wrapper {\n            display: flex;\n            width: 100%;\n            align-items: flex-end;\n            justify-content: flex-end;\n          }\n\n          .feedback-message {\n            margin-top: 1em;\n            font-weight: bold;\n          }\n        `}\n      </style>\n    </div>\n  );\n}\n\nexport default CardSection;\n"]},"metadata":{},"sourceType":"module"}