{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\X\\\\Desktop\\\\MIT-Bootcamp-WebDev\\\\Week29\\\\setting-up-stripe_starter\\\\components\\\\cardSection.js\",\n    _s = $RefreshSig$();\n\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState } from \"react\";\nimport { CardElement } from \"@stripe/react-stripe-js\";\n\nfunction CardSection(props) {\n  _s();\n\n  var _useState = useState(false),\n      isLoading = _useState[0],\n      setIsLoading = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      feedbackMessage = _useState2[0],\n      setFeedbackMessage = _useState2[1];\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n      var _yield$props$stripe$c, error, paymentMethod;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              // Prevent default form submission behavior\n              event.preventDefault(); // Disable submit button to prevent multiple submissions\n\n              if (typeof props.setIsLoading === 'function') {\n                props.setIsLoading(true);\n              } // Send the payment method to Stripe\n\n\n              _context.next = 4;\n              return props.stripe.createPaymentMethod({\n                type: \"card\",\n                card: props.elements.getElement(CardElement)\n              });\n\n            case 4:\n              _yield$props$stripe$c = _context.sent;\n              error = _yield$props$stripe$c.error;\n              paymentMethod = _yield$props$stripe$c.paymentMethod;\n\n              // Re-enable submit button\n              if (typeof props.setIsLoading === 'function') {\n                props.setIsLoading(false);\n              }\n\n              if (error) {\n                setFeedbackMessage(error.message);\n                console.error(error);\n              } else {\n                setFeedbackMessage(\"Payment succeeded!\");\n                console.log(paymentMethod);\n              }\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(\"div\", {\n    className: \"jsx-572734112\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-572734112\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"card-element\",\n    className: \"jsx-572734112\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, \"Credit or debit card\"), __jsx(\"div\", {\n    className: \"jsx-572734112\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, __jsx(\"fieldset\", {\n    style: {\n      border: \"none\"\n    },\n    className: \"jsx-572734112\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-572734112\" + \" \" + \"form-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    id: \"card-element\",\n    style: {\n      width: \"100%\"\n    },\n    className: \"jsx-572734112\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 15\n    }\n  }, __jsx(CardElement, {\n    options: {\n      style: {\n        width: \"100%\",\n        base: {\n          fontSize: \"18px\"\n        }\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }\n  })), __jsx(\"br\", {\n    className: \"jsx-572734112\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 15\n    }\n  }), __jsx(\"div\", {\n    className: \"jsx-572734112\" + \" \" + \"order-button-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 15\n    }\n  }, __jsx(\"button\", {\n    onClick: handleSubmit,\n    className: \"jsx-572734112\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, \"Confirm order\")), props.stripeError ? __jsx(\"div\", {\n    className: \"jsx-572734112\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, props.stripeError.toString()) : null, __jsx(\"div\", {\n    id: \"card-errors\",\n    role: \"alert\",\n    className: \"jsx-572734112\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 15\n    }\n  }), feedbackMessage && __jsx(\"div\", {\n    className: \"jsx-572734112\" + \" \" + \"feedback-message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, feedbackMessage))))), __jsx(_JSXStyle, {\n    id: \"572734112\",\n    __self: this\n  }, \".order-button-wrapper.jsx-572734112{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}.feedback-message.jsx-572734112{margin-top:1em;font-weight:bold;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcWFxcRGVza3RvcFxcTUlULUJvb3RjYW1wLVdlYkRldlxcV2VlazI5XFxzZXR0aW5nLXVwLXN0cmlwZV9zdGFydGVyXFxjb21wb25lbnRzXFxjYXJkU2VjdGlvbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFvRVMsQUFHMEIsQUFPRSxlQUNFLGlCQUNuQiwwQ0FSYSxXQUNVLHFHQUNJLGlHQUMzQiIsImZpbGUiOiJDOlxcVXNlcnNcXFhcXERlc2t0b3BcXE1JVC1Cb290Y2FtcC1XZWJEZXZcXFdlZWsyOVxcc2V0dGluZy11cC1zdHJpcGVfc3RhcnRlclxcY29tcG9uZW50c1xcY2FyZFNlY3Rpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IENhcmRFbGVtZW50IH0gZnJvbSBcIkBzdHJpcGUvcmVhY3Qtc3RyaXBlLWpzXCI7XG5cbmZ1bmN0aW9uIENhcmRTZWN0aW9uKHByb3BzKSB7XG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtmZWVkYmFja01lc3NhZ2UsIHNldEZlZWRiYWNrTWVzc2FnZV0gPSB1c2VTdGF0ZShcIlwiKTtcblxuICBjb25zdCBoYW5kbGVTdWJtaXQgPSBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAvLyBQcmV2ZW50IGRlZmF1bHQgZm9ybSBzdWJtaXNzaW9uIGJlaGF2aW9yXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgXG4gICAgLy8gRGlzYWJsZSBzdWJtaXQgYnV0dG9uIHRvIHByZXZlbnQgbXVsdGlwbGUgc3VibWlzc2lvbnNcbiAgICBpZiAodHlwZW9mIHByb3BzLnNldElzTG9hZGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcHJvcHMuc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgIH1cbiAgXG4gICAgLy8gU2VuZCB0aGUgcGF5bWVudCBtZXRob2QgdG8gU3RyaXBlXG4gICAgY29uc3QgeyBlcnJvciwgcGF5bWVudE1ldGhvZCB9ID0gYXdhaXQgcHJvcHMuc3RyaXBlLmNyZWF0ZVBheW1lbnRNZXRob2Qoe1xuICAgICAgdHlwZTogXCJjYXJkXCIsXG4gICAgICBjYXJkOiBwcm9wcy5lbGVtZW50cy5nZXRFbGVtZW50KENhcmRFbGVtZW50KSxcbiAgICB9KTtcbiAgXG4gICAgLy8gUmUtZW5hYmxlIHN1Ym1pdCBidXR0b25cbiAgICBpZiAodHlwZW9mIHByb3BzLnNldElzTG9hZGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcHJvcHMuc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIFxuICAgIGlmIChlcnJvcikge1xuICAgICAgc2V0RmVlZGJhY2tNZXNzYWdlKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldEZlZWRiYWNrTWVzc2FnZShcIlBheW1lbnQgc3VjY2VlZGVkIVwiKTtcbiAgICAgIGNvbnNvbGUubG9nKHBheW1lbnRNZXRob2QpO1xuICAgIH1cbiAgfTtcbiAgXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAgPGRpdj5cbiAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJjYXJkLWVsZW1lbnRcIj5DcmVkaXQgb3IgZGViaXQgY2FyZDwvbGFiZWw+XG5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8ZmllbGRzZXQgc3R5bGU9e3sgYm9yZGVyOiBcIm5vbmVcIiB9fT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1yb3dcIj5cbiAgICAgICAgICAgICAgPGRpdiBpZD1cImNhcmQtZWxlbWVudFwiIHN0eWxlPXt7IHdpZHRoOiBcIjEwMCVcIiB9fT5cbiAgICAgICAgICAgICAgICA8Q2FyZEVsZW1lbnRcbiAgICAgICAgICAgICAgICAgIG9wdGlvbnM9e3tcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgd2lkdGg6IFwiMTAwJVwiLCBiYXNlOiB7IGZvbnRTaXplOiBcIjE4cHhcIiB9IH0sXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8YnIgLz5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvcmRlci1idXR0b24td3JhcHBlclwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17aGFuZGxlU3VibWl0fT5Db25maXJtIG9yZGVyPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICB7cHJvcHMuc3RyaXBlRXJyb3IgPyAoXG4gICAgICAgICAgICAgICAgPGRpdj57cHJvcHMuc3RyaXBlRXJyb3IudG9TdHJpbmcoKX08L2Rpdj5cbiAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgIDxkaXYgaWQ9XCJjYXJkLWVycm9yc1wiIHJvbGU9XCJhbGVydFwiIC8+XG4gICAgICAgICAgICAgIHtmZWVkYmFja01lc3NhZ2UgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmVlZGJhY2stbWVzc2FnZVwiPntmZWVkYmFja01lc3NhZ2V9PC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2ZpZWxkc2V0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAge2BcbiAgICAgICAgICAub3JkZXItYnV0dG9uLXdyYXBwZXIge1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGZsZXgtZW5kO1xuICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAuZmVlZGJhY2stbWVzc2FnZSB7XG4gICAgICAgICAgICBtYXJnaW4tdG9wOiAxZW07XG4gICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgICB9XG4gICAgICAgIGB9XG4gICAgICA8L3N0eWxlPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBDYXJkU2VjdGlvbjsiXX0= */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\X\\\\\\\\Desktop\\\\\\\\MIT-Bootcamp-WebDev\\\\\\\\Week29\\\\\\\\setting-up-stripe_starter\\\\\\\\components\\\\\\\\cardSection.js */\"));\n}\n\n_s(CardSection, \"JQejCMwZrIhLBoM59GppMABol0A=\");\n\n_c = CardSection;\nexport default CardSection;\n\nvar _c;\n\n$RefreshReg$(_c, \"CardSection\");","map":{"version":3,"sources":["C:/Users/X/Desktop/MIT-Bootcamp-WebDev/Week29/setting-up-stripe_starter/components/cardSection.js"],"names":["React","useState","CardElement","CardSection","props","isLoading","setIsLoading","feedbackMessage","setFeedbackMessage","handleSubmit","event","preventDefault","stripe","createPaymentMethod","type","card","elements","getElement","error","paymentMethod","message","console","log","border","width","style","base","fontSize","stripeError","toString"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { CardElement } from \"@stripe/react-stripe-js\";\n\nfunction CardSection(props) {\n  const [isLoading, setIsLoading] = useState(false);\n  const [feedbackMessage, setFeedbackMessage] = useState(\"\");\n\n  const handleSubmit = async (event) => {\n    // Prevent default form submission behavior\n    event.preventDefault();\n  \n    // Disable submit button to prevent multiple submissions\n    if (typeof props.setIsLoading === 'function') {\n      props.setIsLoading(true);\n    }\n  \n    // Send the payment method to Stripe\n    const { error, paymentMethod } = await props.stripe.createPaymentMethod({\n      type: \"card\",\n      card: props.elements.getElement(CardElement),\n    });\n  \n    // Re-enable submit button\n    if (typeof props.setIsLoading === 'function') {\n      props.setIsLoading(false);\n    }\n  \n    if (error) {\n      setFeedbackMessage(error.message);\n      console.error(error);\n    } else {\n      setFeedbackMessage(\"Payment succeeded!\");\n      console.log(paymentMethod);\n    }\n  };\n  \n\n  return (\n    <div>\n      <div>\n        <label htmlFor=\"card-element\">Credit or debit card</label>\n\n        <div>\n          <fieldset style={{ border: \"none\" }}>\n            <div className=\"form-row\">\n              <div id=\"card-element\" style={{ width: \"100%\" }}>\n                <CardElement\n                  options={{\n                    style: { width: \"100%\", base: { fontSize: \"18px\" } },\n                  }}\n                />\n              </div>\n              <br />\n              <div className=\"order-button-wrapper\">\n                <button onClick={handleSubmit}>Confirm order</button>\n              </div>\n              {props.stripeError ? (\n                <div>{props.stripeError.toString()}</div>\n              ) : null}\n              <div id=\"card-errors\" role=\"alert\" />\n              {feedbackMessage && (\n                <div className=\"feedback-message\">{feedbackMessage}</div>\n              )}\n            </div>\n          </fieldset>\n        </div>\n      </div>\n      <style jsx>\n        {`\n          .order-button-wrapper {\n            display: flex;\n            width: 100%;\n            align-items: flex-end;\n            justify-content: flex-end;\n          }\n\n          .feedback-message {\n            margin-top: 1em;\n            font-weight: bold;\n          }\n        `}\n      </style>\n    </div>\n  );\n}\n\nexport default CardSection;"]},"metadata":{},"sourceType":"module"}