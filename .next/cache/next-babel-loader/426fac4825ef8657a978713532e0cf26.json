{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n      query($id: ID!) {\\n        restaurant(id: $id) {\\n          id\\n          name\\n          dishes {\\n            id\\n            name\\n            description\\n            price\\n            image {\\n              url\\n            }\\n          }\\n        }\\n      }\\n    \"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport { useRouter } from \"next/router\";\nimport { gql, useQuery } from '@apollo/client';\nimport { useState, useContext } from 'react';\nimport AppContext from \"./context\";\nimport { Button, Card, CardBody, CardImg, CardText, CardTitle, Row, Col } from \"reactstrap\";\n\nvar Dishes = function Dishes(_ref) {\n  var restId = _ref.restId,\n      searchQuery = _ref.searchQuery;\n\n  var _useContext = useContext(AppContext),\n      addItem = _useContext.addItem;\n\n  var GET_RESTAURANT_DISHES = gql(_templateObject());\n\n  var _useQuery = useQuery(GET_RESTAURANT_DISHES, {\n    variables: {\n      id: restId\n    }\n  }),\n      loading = _useQuery.loading,\n      error = _useQuery.error,\n      data = _useQuery.data;\n\n  if (loading) return __jsx(\"p\", null, \"Loading...\");\n  if (error) return __jsx(\"p\", null, \"ERROR here\");\n  if (!data) return __jsx(\"p\", null, \"No dishes found\"); ///added filtering dishes. \n\n  var dishes = data.restaurant.dishes.filter(function (dish) {\n    return dish.name.toLowerCase().includes(searchQuery.toLowerCase());\n  });\n  return __jsx(React.Fragment, null, dishes.map(function (dish) {\n    return __jsx(Col, {\n      xs: \"6\",\n      sm: \"4\",\n      key: dish.id\n    }, __jsx(Card, {\n      style: {\n        margin: \"0 0.5rem 20px 0.5rem\",\n        background: \"lightpink\"\n      }\n    }, __jsx(CardImg, {\n      top: true,\n      style: {\n        height: 200\n      },\n      src: \"http://localhost:1337\" + dish.image.url\n    }), __jsx(CardBody, null, __jsx(CardTitle, null, dish.name), __jsx(CardText, null, dish.description), __jsx(CardText, null, \"$\", dish.price), __jsx(Button, {\n      onClick: function onClick() {\n        return addItem(dish);\n      }\n    }, \"Add to cart\"))));\n  }));\n};\n\nexport default Dishes;","map":null,"metadata":{},"sourceType":"module"}