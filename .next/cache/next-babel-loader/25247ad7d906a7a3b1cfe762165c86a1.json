{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\X\\\\Desktop\\\\MIT-Bootcamp-WebDev\\\\Week29\\\\setting-up-stripe_starter\\\\components\\\\cardSection.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState } from \"react\";\nimport { CardElement } from \"@stripe/react-stripe-js\";\n\nfunction CardSection(props) {\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState(false);\n  const {\n    0: feedbackMessage,\n    1: setFeedbackMessage\n  } = useState(\"\");\n  const {\n    0: paymentSuccessful,\n    1: setPaymentSuccessful\n  } = useState(false);\n\n  const handleSubmit = async event => {\n    // Prevent default form submission behavior\n    event.preventDefault(); // Disable submit button to prevent multiple submissions\n\n    if (typeof props.setIsLoading === 'function') {\n      props.setIsLoading(true);\n    } // Send the payment method to Stripe\n\n\n    const cardElement = props.elements && props.elements.getElement(CardElement);\n    const {\n      error,\n      paymentMethod\n    } = await props.stripe.createPaymentMethod({\n      type: \"card\",\n      card: cardElement\n    }); // Re-enable submit button\n\n    if (typeof props.setIsLoading === 'function') {\n      props.setIsLoading(false);\n    }\n\n    if (error) {\n      setFeedbackMessage(error.message);\n      console.error(error);\n    } else {\n      setFeedbackMessage(\"Payment succeeded!\");\n      console.log(paymentMethod);\n      setPaymentSuccessful(true);\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: \"jsx-572734112\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-572734112\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"card-element\",\n    className: \"jsx-572734112\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, \"Credit or debit card\"), __jsx(\"div\", {\n    className: \"jsx-572734112\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, __jsx(\"fieldset\", {\n    style: {\n      border: \"none\"\n    },\n    className: \"jsx-572734112\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-572734112\" + \" \" + \"form-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    id: \"card-element\",\n    style: {\n      width: \"100%\"\n    },\n    className: \"jsx-572734112\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 15\n    }\n  }, __jsx(CardElement, {\n    options: {\n      style: {\n        width: \"100%\",\n        base: {\n          fontSize: \"18px\"\n        }\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  })), __jsx(\"br\", {\n    className: \"jsx-572734112\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 15\n    }\n  }), __jsx(\"div\", {\n    className: \"jsx-572734112\" + \" \" + \"order-button-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 15\n    }\n  }, __jsx(\"button\", {\n    onClick: handleSubmit,\n    className: \"jsx-572734112\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, \"Confirm order\")), props.stripeError ? __jsx(\"div\", {\n    className: \"jsx-572734112\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, props.stripeError.toString()) : null, paymentSuccessful ? __jsx(\"div\", {\n    className: \"jsx-572734112\" + \" \" + \"feedback-message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, \"Payment succeeded!\") : __jsx(\"div\", {\n    id: \"card-errors\",\n    role: \"alert\",\n    className: \"jsx-572734112\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }))))), __jsx(_JSXStyle, {\n    id: \"572734112\",\n    __self: this\n  }, \".order-button-wrapper.jsx-572734112{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}.feedback-message.jsx-572734112{margin-top:1em;font-weight:bold;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcWFxcRGVza3RvcFxcTUlULUJvb3RjYW1wLVdlYkRldlxcV2VlazI5XFxzZXR0aW5nLXVwLXN0cmlwZV9zdGFydGVyXFxjb21wb25lbnRzXFxjYXJkU2VjdGlvbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUF1RVMsQUFHMEIsQUFPRSxlQUNFLGlCQUNuQiwwQ0FSYSxXQUNVLHFHQUNJLGlHQUMzQiIsImZpbGUiOiJDOlxcVXNlcnNcXFhcXERlc2t0b3BcXE1JVC1Cb290Y2FtcC1XZWJEZXZcXFdlZWsyOVxcc2V0dGluZy11cC1zdHJpcGVfc3RhcnRlclxcY29tcG9uZW50c1xcY2FyZFNlY3Rpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IENhcmRFbGVtZW50IH0gZnJvbSBcIkBzdHJpcGUvcmVhY3Qtc3RyaXBlLWpzXCI7XG5cbmZ1bmN0aW9uIENhcmRTZWN0aW9uKHByb3BzKSB7XG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtmZWVkYmFja01lc3NhZ2UsIHNldEZlZWRiYWNrTWVzc2FnZV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3BheW1lbnRTdWNjZXNzZnVsLCBzZXRQYXltZW50U3VjY2Vzc2Z1bF0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgY29uc3QgaGFuZGxlU3VibWl0ID0gYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgLy8gUHJldmVudCBkZWZhdWx0IGZvcm0gc3VibWlzc2lvbiBiZWhhdmlvclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIFxuICAgIC8vIERpc2FibGUgc3VibWl0IGJ1dHRvbiB0byBwcmV2ZW50IG11bHRpcGxlIHN1Ym1pc3Npb25zXG4gICAgaWYgKHR5cGVvZiBwcm9wcy5zZXRJc0xvYWRpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHByb3BzLnNldElzTG9hZGluZyh0cnVlKTtcbiAgICB9XG4gIFxuICAgIC8vIFNlbmQgdGhlIHBheW1lbnQgbWV0aG9kIHRvIFN0cmlwZVxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gcHJvcHMuZWxlbWVudHMgJiYgcHJvcHMuZWxlbWVudHMuZ2V0RWxlbWVudChDYXJkRWxlbWVudCk7XG4gICAgY29uc3QgeyBlcnJvciwgcGF5bWVudE1ldGhvZCB9ID0gYXdhaXQgcHJvcHMuc3RyaXBlLmNyZWF0ZVBheW1lbnRNZXRob2Qoe1xuICAgICAgdHlwZTogXCJjYXJkXCIsXG4gICAgICBjYXJkOiBjYXJkRWxlbWVudCxcbiAgICB9KTtcbiAgICBcbiAgICAvLyBSZS1lbmFibGUgc3VibWl0IGJ1dHRvblxuICAgIGlmICh0eXBlb2YgcHJvcHMuc2V0SXNMb2FkaW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBwcm9wcy5zZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBzZXRGZWVkYmFja01lc3NhZ2UoZXJyb3IubWVzc2FnZSk7XG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0RmVlZGJhY2tNZXNzYWdlKFwiUGF5bWVudCBzdWNjZWVkZWQhXCIpO1xuICAgICAgY29uc29sZS5sb2cocGF5bWVudE1ldGhvZCk7XG4gICAgICBzZXRQYXltZW50U3VjY2Vzc2Z1bCh0cnVlKTtcbiAgICB9XG4gIH07XG4gIFxuICByZXR1cm4gKFxuICAgIDxkaXY+XG4gICAgICA8ZGl2PlxuICAgICAgICA8bGFiZWwgaHRtbEZvcj1cImNhcmQtZWxlbWVudFwiPkNyZWRpdCBvciBkZWJpdCBjYXJkPC9sYWJlbD5cblxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxmaWVsZHNldCBzdHlsZT17eyBib3JkZXI6IFwibm9uZVwiIH19PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLXJvd1wiPlxuICAgICAgICAgICAgICA8ZGl2IGlkPVwiY2FyZC1lbGVtZW50XCIgc3R5bGU9e3sgd2lkdGg6IFwiMTAwJVwiIH19PlxuICAgICAgICAgICAgICAgIDxDYXJkRWxlbWVudFxuICAgICAgICAgICAgICAgICAgb3B0aW9ucz17e1xuICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyB3aWR0aDogXCIxMDAlXCIsIGJhc2U6IHsgZm9udFNpemU6IFwiMThweFwiIH0gfSxcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxiciAvPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9yZGVyLWJ1dHRvbi13cmFwcGVyXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVTdWJtaXR9PkNvbmZpcm0gb3JkZXI8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIHtwcm9wcy5zdHJpcGVFcnJvciA/IChcbiAgICAgICAgICAgICAgICA8ZGl2Pntwcm9wcy5zdHJpcGVFcnJvci50b1N0cmluZygpfTwvZGl2PlxuICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAge3BheW1lbnRTdWNjZXNzZnVsID8gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmVlZGJhY2stbWVzc2FnZVwiPlBheW1lbnQgc3VjY2VlZGVkITwvZGl2PlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJjYXJkLWVycm9yc1wiIHJvbGU9XCJhbGVydFwiIC8+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2ZpZWxkc2V0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAge2BcbiAgICAgICAgICAub3JkZXItYnV0dG9uLXdyYXBwZXIge1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGZsZXgtZW5kO1xuICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAuZmVlZGJhY2stbWVzc2FnZSB7XG4gICAgICAgICAgICBtYXJnaW4tdG9wOiAxZW07XG4gICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgICB9XG4gICAgICAgIGB9XG4gICAgICA8L3N0eWxlPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBDYXJkU2VjdGlvbjtcbiJdfQ== */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\X\\\\\\\\Desktop\\\\\\\\MIT-Bootcamp-WebDev\\\\\\\\Week29\\\\\\\\setting-up-stripe_starter\\\\\\\\components\\\\\\\\cardSection.js */\"));\n}\n\nexport default CardSection;","map":{"version":3,"sources":["C:/Users/X/Desktop/MIT-Bootcamp-WebDev/Week29/setting-up-stripe_starter/components/cardSection.js"],"names":["React","useState","CardElement","CardSection","props","isLoading","setIsLoading","feedbackMessage","setFeedbackMessage","paymentSuccessful","setPaymentSuccessful","handleSubmit","event","preventDefault","cardElement","elements","getElement","error","paymentMethod","stripe","createPaymentMethod","type","card","message","console","log","border","width","style","base","fontSize","stripeError","toString"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { CardElement } from \"@stripe/react-stripe-js\";\n\nfunction CardSection(props) {\n  const [isLoading, setIsLoading] = useState(false);\n  const [feedbackMessage, setFeedbackMessage] = useState(\"\");\n  const [paymentSuccessful, setPaymentSuccessful] = useState(false);\n\n  const handleSubmit = async (event) => {\n    // Prevent default form submission behavior\n    event.preventDefault();\n  \n    // Disable submit button to prevent multiple submissions\n    if (typeof props.setIsLoading === 'function') {\n      props.setIsLoading(true);\n    }\n  \n    // Send the payment method to Stripe\n    const cardElement = props.elements && props.elements.getElement(CardElement);\n    const { error, paymentMethod } = await props.stripe.createPaymentMethod({\n      type: \"card\",\n      card: cardElement,\n    });\n    \n    // Re-enable submit button\n    if (typeof props.setIsLoading === 'function') {\n      props.setIsLoading(false);\n    }\n  \n    if (error) {\n      setFeedbackMessage(error.message);\n      console.error(error);\n    } else {\n      setFeedbackMessage(\"Payment succeeded!\");\n      console.log(paymentMethod);\n      setPaymentSuccessful(true);\n    }\n  };\n  \n  return (\n    <div>\n      <div>\n        <label htmlFor=\"card-element\">Credit or debit card</label>\n\n        <div>\n          <fieldset style={{ border: \"none\" }}>\n            <div className=\"form-row\">\n              <div id=\"card-element\" style={{ width: \"100%\" }}>\n                <CardElement\n                  options={{\n                    style: { width: \"100%\", base: { fontSize: \"18px\" } },\n                  }}\n                />\n              </div>\n              <br />\n              <div className=\"order-button-wrapper\">\n                <button onClick={handleSubmit}>Confirm order</button>\n              </div>\n              {props.stripeError ? (\n                <div>{props.stripeError.toString()}</div>\n              ) : null}\n              {paymentSuccessful ? (\n                <div className=\"feedback-message\">Payment succeeded!</div>\n              ) : (\n                <div id=\"card-errors\" role=\"alert\" />\n              )}\n            </div>\n          </fieldset>\n        </div>\n      </div>\n      <style jsx>\n        {`\n          .order-button-wrapper {\n            display: flex;\n            width: 100%;\n            align-items: flex-end;\n            justify-content: flex-end;\n          }\n\n          .feedback-message {\n            margin-top: 1em;\n            font-weight: bold;\n          }\n        `}\n      </style>\n    </div>\n  );\n}\n\nexport default CardSection;\n"]},"metadata":{},"sourceType":"module"}